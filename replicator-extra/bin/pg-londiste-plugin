#!/bin/bash
# 
# Open replicator script for PostgreSQL londiste replication
#
# Copyright (c) 2009 Continuent, Inc.  All rights reserved.

# Check for python
PYTHON=`which python 2> /dev/null`
if [ "$PYTHON" = "" -o ! -x "$PYTHON" ]; then
  echo "Your system does not appear to have a python interpreter installed"
  echo "Please install python and ensure that 'python --version' works"
  exit 1
fi

# Make sure we are in the Tungsten Replicator directory
BINDIR=`dirname $0`
REPLICATOR_HOME=`cd $BINDIR/..; pwd`

# run the londiste driver script 
$PYTHON $REPLICATOR_HOME/lib/python/pg-londiste-plugin.py $0 $*
